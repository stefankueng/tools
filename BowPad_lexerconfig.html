<!doctype html><html lang=en><meta charset=utf-8><title>BowPad user defined lexers - Stefans Tools</title><link href=./favicon.ico rel="shortcut icon"><link href=./apple-touch-icon.png rel=apple-touch-icon><link href=./css/pack.f043de83.css rel=stylesheet><link href=./css/prettify.min.07b0886c.css rel=stylesheet><script src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js async></script><script>(adsbygoogle=window.adsbygoogle||[]).push({google_ad_client:"ca-pub-0430507460695576",enable_page_level_ads:!0})</script><header class=main-sprite id=top><h1 class=header-title><a href=/ >Stefans Tools</a></h1><h2 class=header-description>Useful open source tools that make your life easier</h2></header><div class=wrapper><div class=content><h2>User configurable color styles</h2><p>While BowPad as a huge list of ready available lexers and coloring styles which you can use to get the proper coloring for your files, it might be necessary to create a new one that suits your own files.<p>For example, you might have your own XML based file format, which has custom keywords and attributes which you want to have colored separately. The default XML style of course doesn't know about your own keywords and attributes, so you need to configure your own styling setup.<p>We're going through creating a custom style setup for an XML based language as an example. You should be able to use this as a base in case you need another style as the base for your customization.<p>Once you have your custom lexer styling file done, you can drag and drop that file over the BowPad window: BowPad will ask whether you want to edit the file or import it. For this to work, the file needs to have the extension set to <code>*.bplex</code>.<h3>Start</h3><p>First, get the template for a custom lexer styling from <a href=template.bplex>here</a>. Open the file in BowPad for editing.<p>You can see several sections in that file. First replace all <code>YourLanguage</code> strings with the name of your own file language, e.g. <code>myXML</code>. Then set the file extensions of your own files, so BowPad knows to apply your custom styling for these files.<p>Next you can define your own keywords the lexer should use. As a starting point, have a look at the styling file BowPad uses for all the available lexers <a href=https://github.com/stefankueng/BowPad/blob/main/src/res/Properties.ini>here</a>.<p>As you can see from the <code>Properties.ini</code> file, different lexers have different keywords set. Under the section <code>[lang_Vxml]</code> you can see that BowPad has two keyword sets set up. So how do you know how many keyword sets a lexer provides? Unfortunately, that's not quite easy: you have to actually check the sourcecode of the lexer. In our case, the lexer that provides XML styling is the html-lexer, which you can find <a href=https://github.com/stefankueng/BowPad/blob/main/ext/scintilla/lexers/LexHTML.cxx>here</a>. The other lexers you might want to use are listed <a href=https://github.com/stefankueng/BowPad/blob/main/ext/scintilla/lexers>here</a>.<p>The html lexer uses 7 keyword sets. But for styling xml files, only the first two are used, and even the second one is only used in special situations. You can get some information by looking at the <code>htmlWordListDesc</code> string in the file <code>LexHTML.cxx</code>. So you have to add your own XML elements and attribute names in the first keyword set.<p>The other options under the <code>[lang_myXML]</code> section are:<dl><dt>CommentLine<dd>Configures which chars are used to mark a line comment. in many programming languages that would be <code>//</code>.<dt>CommentLineAtStart<dd>0 if the comment line can start anywhere on a line, 1 if such comments must start at the beginning of a line.<dt>CommentStreamStart/CommentStreamEnd<dd>Marks the inline comment chars. For example <code>/*</code> and <code>*/</code><dt>FunctionRegex<dd>A regular expression which captures function names<dt>UserFunctions<dd>if not zero, the function regex is used to add the found function names to the keywords for styling</dl><p><p>So for an XML based language, you would specify<pre class=prettyprint>
CommentStreamStart=&lt;!--
CommentStreamEnd=--></pre><p>And at last, under the section <code>[Lexer_myXML]</code> we can specify the colors to use. But first, you need to specify here which lexer to use. For the XML lexer, the value to use would be <code>5</code>, so you have to specify <code>Lexer=5</code> there.<p>You can find the value for the lexer in Scintillas <a href=https://github.com/stefankueng/BowPad/blob/main/ext/scintilla/include/SciLexer.h>SciLexer.h</a> file. The value for <code>SCLEX_XML</code> is defined as 5, so that's the value we have to use.<p>Each lexer has a specific amount of color styles. They're numbered from 0-n. Since the XML lexer is basically the HTML lexer, look for <code>SCE_HTML_</code> in the <a href=https://github.com/stefankueng/BowPad/blob/main/ext/scintilla/include/SciLexer.h>SciLexer.h</a> file.<p>The format for the coloring style is:<br><code>StyleN=Name;Foregroundcolor;Backgroundcolor;fontname;fontstyle;fontsize</code><br>The colors are RGB values in HEX, and the font style is a combination of the following values:<br>0 = none<br>1 = bold<br>2 = italic<br>4 = underlined<br>leave the values empty if you want to use the default.<h3>Simple lexer</h3><p>BowPad also has a simple lexer, which can be used if none of the language specific lexers fit your file format.<p>The simple lexer doesn't do much, but it has 9 keyword sets, colors numbers, strings and comments. This means while the lexer does not know anything about your file format, you can still use the keyword sets to color statements, attributes, ...<p>For example, if you specify <code>if for else while return</code> for a keyword set, you'll get coloring for such statements even though the lexer doesn't know about which of the words are such statements.<p>Here's a template for a custom style using the simple lexer:<pre class=prettyprint>
[language]
ABCDE=pkt;hdd

[lang_ABCDE]
keywords1=
keywords2=
keywords3=
keywords4=
keywords5=
keywords6=
keywords7=
keywords8=
CommentLine=#
CommentStreamStart=
CommentStreamEnd=

[lexers]
Lexer_ABCDE=ABCDE

[Lexer_ABCDE]
Lexer=1100
Style0=DEFAULT;$(DEFAULT)
Style1=COMMENT;$(COMMENT)
Style2=COMMENTLINE;$(COMMENT LINE)
Style3=NUMBER;$(NUMBER)
Style4=STRING;$(STRING)
Style5=OPERATOR;$(OPERATOR)
Style6=IDENTIFIER;$(IDENTIFIER)
Style7=WORD1;$(KEYWORDS)
Style8=WORD2;$(KEYWORD2)
Style9=WORD3;$(KEYWORD3)
Style10=WORD4;$(KEYWORD4)
Style11=WORD5;$(KEYWORD5)
Style12=WORD6;$(KEYWORD6)
Style13=WORD7;$(KEYWORD7)
Style14=WORD8;$(KEYWORD8)
Style15=WORD9;$(KEYWORD9)
Style16=MARKEDWORDS1;0000A0;FFFFFF;;1;
Style17=MARKEDWORDS2;0000A0;FFFFFF;;0;

Prop_fold=1
Prop_foldComments=1
Prop_ws1CaseSensitive=1
Prop_ws2CaseSensitive=1
Prop_ws3CaseSensitive=1
Prop_ws4CaseSensitive=1
Prop_foldAtWS1=0
Prop_foldAtWS2=0
Prop_foldAtWS3=0
Prop_foldAtWS4=1
Prop_foldAtWS5=0
Prop_foldAtWS6=0
Prop_stringchars="'
Prop_stylenumbers=1
Prop_operators=+ - / * &lt; > &lt;= >= = == === ! != ~
Prop_linecomment=#
Prop_inlineCommentStart=/*
Prop_inlineCommentEnd=*/
Prop_eol=\
Prop_markedWords1=$
</pre><p>the options:<dl><dt>Prop_foldComments<dd>1 to fold comments<dt>Prop_wsNCaseSensitive<dd>1 to have the keyword set behave case-sensitive. Note: if not set or set to 0 (case-insensitive), the keywords must be set in lowercase.<dt>Prop_foldAtWS1<dd>if 1, every keyword is a folding point<dt>Prop_stringchars<dd>the chars that mark a string, usually " and '<dt>Prop_stylenumbers<dd>1 to style numbers, otherwise numbers are not colored<dt>Prop_operators<dd>the operators<dt>Prop_markedWords1<dd>a char or string that marks a special word which is colored separately. For example you can mark all words that start with a <code>$</code> separately, or if you specify e.g. <code>Gtk_</code> every word that starts with that will be colored as well.</dl><p></div></div><footer class=main-sprite><ul><li><a href=https://pages.github.com/ aria-label=GitHub><svg class=footer-icon focusable=false height=15 role=img viewBox="12 12 40 40" width=15 xmlns=http://www.w3.org/2000/svg><title>GitHub</title><path d="M32 13.4c-10.5 0-19 8.5-19 19 0 8.4 5.5 15.5 13 18 1 .2 1.3-.4 1.3-.9v-3.2c-5.3 1.1-6.4-2.6-6.4-2.6-.9-2.1-2.1-2.7-2.1-2.7-1.7-1.2.1-1.1.1-1.1 1.9.1 2.9 2 2.9 2 1.7 2.9 4.5 2.1 5.5 1.6.2-1.2.7-2.1 1.2-2.6-4.2-.5-8.7-2.1-8.7-9.4 0-2.1.7-3.7 2-5.1-.2-.5-.8-2.4.2-5 0 0 1.6-.5 5.2 2 1.5-.4 3.1-.7 4.8-.7 1.6 0 3.3.2 4.7.7 3.6-2.4 5.2-2 5.2-2 1 2.6.4 4.6.2 5 1.2 1.3 2 3 2 5.1 0 7.3-4.5 8.9-8.7 9.4.7.6 1.3 1.7 1.3 3.5v5.2c0 .5.4 1.1 1.3.9 7.5-2.6 13-9.7 13-18.1 0-10.5-8.5-19-19-19z" fill=#aaa /></svg></a><li>• © <a href=./about.html>Stefan Küng</a></ul><p>Site last updated: Monday, February 1st, 2021, 18:32:09 UTC</footer><script src=./js/pack.aa88ddb4.js async></script><script src=./js/prettify/prettify.d435ff18.js></script><script>window.onload=prettyPrint()</script>